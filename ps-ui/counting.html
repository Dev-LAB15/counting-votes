<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, user-scalable=no">
	<title>Counting Votes</title>
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta name="author" content="LAB15" />

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	 crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="sass/main.min.css" />
	<link rel="stylesheet" type="text/css" href="css/custom-icons.min.css" />
	<link rel="stylesheet" type="text/css" href="css/counting.min.css" />
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
</head>

<body>
	<div id="app" class="main counting">
		<header class="navbar navbar-expand flex-column flex-md-row bd-navbar">
			<div class="col-md-3">
				<a class="nav" href="dashboard.html">
					<i class="icon icon-chevron-left"></i>
				</a>
			</div>

			<div class="col-md-6 text-center">
				<h1 class="title">{{$t('message.counting')}}</h1>
			</div>

			<div class="col-md-3">
				<button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#main-menu" aria-expanded="false">
					<i class="icon icon-menu"></i>
				</button>

				<div class="collapse" id="main-menu">
					<nav class="cv-fullwidth">
						<ul class="list-unstyled">
							<li>
								<a href="dashboard.html">{{$t('message.dashboard')}}</a>
							</li>
							<li>
								<a href="scan.html">{{$t('message.scan')}}</a>
							</li>
							<li>
								<a href="verification.html">{{$t('message.verification')}}</a>
							</li>
							<li>
								<a href="counting.html">{{$t('message.counting')}}</a>
							</li>
							<li>
								<a href="transactions.html">{{$t('message.transactions')}}</a>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</header>

		<section class="cv-fullwidth has-header has-footer">
			<div id="grid" class="grid clearfix">
				<div class="grid__item">{{$t('message.vote')}}</div>
			</div>

			<div id="drop-area" class="drop-area">
				<div class="drop-area__item">{{$t('message.invalid')}}</div>
				<div class="drop-area__item">{{$t('message.blank')}}</div>
				<div class="drop-area__item">{{$t('message.no')}}</div>
				<div class="drop-area__item">{{$t('message.yes')}}</div>
			</div>
		</section>

		<footer>
			<button type="button" class="btn btn-primary btn-block">{{$t('message.finishCountingVotes')}}
				<i class="icon icon-arrow-right"></i>
			</button>
		</footer>
	</div>
	<!-- /main -->

	<!-- base -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.17.1/axios.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.13/vue.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue-i18n/7.4.2/vue-i18n.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue-toasted/1.1.24/vue-toasted.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.min.js"></script>
	<!-- /base -->

	<script src="/lang/en.js"></script>
	<script src="/js/config.js"></script>
	<script src="/js/draggabilly.pkgd.min.js"></script>
	<script src="/js/dragdrop.js"></script>
	<script src="/js/counting.js"></script>
	<script>
		(function () {
			var body = document.body,
				dropArea = document.getElementById('drop-area'),
				droppableArr = [], dropAreaTimeout;

			// initialize droppables
			[].slice.call(document.querySelectorAll('#drop-area .drop-area__item')).forEach(function (el) {
				droppableArr.push(new Droppable(el, {
					onDrop: function (instance, draggableEl) {
						// show checkmark inside the droppabe element
						classie.add(instance.el, 'drop-feedback');
						clearTimeout(instance.checkmarkTimeout);
						instance.checkmarkTimeout = setTimeout(function () {
							classie.remove(instance.el, 'drop-feedback');

							draggableEl.style.left = '50%';
							draggableEl.style.top = '50%';
						}, 600);
						// ...
					}
				}));
			});

			// initialize draggable(s)
			[].slice.call(document.querySelectorAll('#grid .grid__item')).forEach(function (el) {
				new Draggable(el, droppableArr, {
					draggabilly: { containment: document.body },
					onStart: function () {
						// add class 'drag-active' to body
						classie.add(body, 'drag-active');
						// clear timeout: dropAreaTimeout (toggle drop area)
						clearTimeout(dropAreaTimeout);
						// show dropArea
						classie.add(dropArea, 'show');
					},
					onEnd: function (wasDropped) {
						var afterDropFn = function () {
							// hide dropArea
							classie.remove(dropArea, 'show');
							// remove class 'drag-active' from body
							classie.remove(body, 'drag-active');
						};

						if (!wasDropped) {
							afterDropFn();
						}
						else {
							// after some time hide drop area and remove class 'drag-active' from body
							clearTimeout(dropAreaTimeout);
							dropAreaTimeout = setTimeout(afterDropFn, 400);
						}
					}
				});
			});
		})();
	</script>
</body>

</html>